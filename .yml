{"apiVersion": "tekton.dev/v1", "kind": "PipelineRun", "metadata": {"annotations": {"appstudio.openshift.io/snapshot": "integ-app-bgna-xzn4m", "build.appstudio.openshift.io/repo": "https://github.com/redhat-appstudio-qe/hacbs-test-project?rev=34da5a8f51fba6a8b7ec75a727d3c72ebb5e1274", "build.appstudio.redhat.com/bundle": "quay.io/redhat-appstudio-tekton-catalog/pipeline-docker-build:88b5db85aa9d9faea12d2f89110a7ccd79db77a0", "build.appstudio.redhat.com/commit_sha": "34da5a8f51fba6a8b7ec75a727d3c72ebb5e1274", "build.appstudio.redhat.com/pipeline_name": "docker-build", "build.appstudio.redhat.com/target_branch": "main", "chains.tekton.dev/signed": "true", "results.tekton.dev/childReadyForDeletion": "true", "results.tekton.dev/log": "integration1-kcao-tenant/results/ecc3f88c-7cb4-4100-9656-4cff65bdfe86/logs/fbe0a585-433b-3000-8e3e-904c02997da4", "results.tekton.dev/record": "integration1-kcao-tenant/results/ecc3f88c-7cb4-4100-9656-4cff65bdfe86/records/ecc3f88c-7cb4-4100-9656-4cff65bdfe86", "results.tekton.dev/result": "integration1-kcao-tenant/results/ecc3f88c-7cb4-4100-9656-4cff65bdfe86"}, "creationTimestamp": "2023-12-27T14:59:52Z", "finalizers": ["chains.tekton.dev/pipelinerun"], "generateName": "hacbs-test-project-gjxw-", "generation": 1, "labels": {"appstudio.openshift.io/application": "integ-app-bgna", "appstudio.openshift.io/component": "hacbs-test-project-gjxw", "pipelines.appstudio.openshift.io/type": "build", "pipelines.openshift.io/runtime": "generic", "pipelines.openshift.io/strategy": "docker", "pipelines.openshift.io/used-by": "build-cloud", "tekton.dev/pipeline": "hacbs-test-project-gjxw-n4rgr"}, "name": "hacbs-test-project-gjxw-n4rgr", "namespace": "integration1-kcao-tenant", "ownerReferences": [{"apiVersion": "appstudio.redhat.com/v1alpha1", "kind": "Component", "name": "hacbs-test-project-gjxw", "uid": "532ac14e-ac74-47e0-8ff4-0d8ba08a2381"}], "resourceVersion": "50238", "uid": "ecc3f88c-7cb4-4100-9656-4cff65bdfe86"}, "spec": {"params": [{"name": "dockerfile", "value": "Dockerfile"}, {"name": "git-url", "value": "https://github.com/redhat-appstudio-qe/hacbs-test-project"}, {"name": "output-image", "value": "quay.io/kasem_org/integration1-kcao-tenant/integ-app-bgna/hacbs-test-project-gjxw:build-ff841-1703689192"}, {"name": "path-context", "value": "."}, {"name": "revision", "value": "34da5a8f51fba6a8b7ec75a727d3c72ebb5e1274"}], "pipelineRef": {"params": [{"name": "name", "value": "docker-build"}, {"name": "bundle", "value": "quay.io/redhat-appstudio-tekton-catalog/pipeline-docker-build:88b5db85aa9d9faea12d2f89110a7ccd79db77a0"}, {"name": "kind", "value": "pipeline"}], "resolver": "bundles"}, "taskRunTemplate": {"serviceAccountName": "appstudio-pipeline"}, "timeouts": {"pipeline": "1h0m0s"}, "workspaces": [{"name": "workspace", "volumeClaimTemplate": {"metadata": {"creationTimestamp": null}, "spec": {"accessModes": ["ReadWriteOnce"], "resources": {"requests": {"storage": "1Gi"}}}, "status": {}}}]}, "status": {"childReferences": [{"apiVersion": "tekton.dev/v1", "kind": "TaskRun", "name": "hacbs-test-project-gjxw-n4rgr-init", "pipelineTaskName": "init"}, {"apiVersion": "tekton.dev/v1", "kind": "TaskRun", "name": "hacbs-test-project-gjxw-n4rgr-clone-repository", "pipelineTaskName": "clone-repository", "whenExpressions": [{"input": "true", "operator": "in", "values": ["true"]}]}, {"apiVersion": "tekton.dev/v1", "kind": "TaskRun", "name": "hacbs-test-project-gjxw-n4rgr-build-container", "pipelineTaskName": "build-container", "whenExpressions": [{"input": "true", "operator": "in", "values": ["true"]}]}, {"apiVersion": "tekton.dev/v1", "kind": "TaskRun", "name": "hacbs-test-project-gjxw-n4rgr-deprecated-base-image-check", "pipelineTaskName": "deprecated-base-image-check", "whenExpressions": [{"input": "false", "operator": "in", "values": ["false"]}]}, {"apiVersion": "tekton.dev/v1", "kind": "TaskRun", "name": "hacbs-test-project-gjxw-n4rgr-clair-scan", "pipelineTaskName": "clair-scan", "whenExpressions": [{"input": "false", "operator": "in", "values": ["false"]}]}, {"apiVersion": "tekton.dev/v1", "kind": "TaskRun", "name": "hacbs-test-project-gjxw-n4rgr-sast-snyk-check", "pipelineTaskName": "sast-snyk-check", "whenExpressions": [{"input": "false", "operator": "in", "values": ["false"]}]}, {"apiVersion": "tekton.dev/v1", "kind": "TaskRun", "name": "hacbs-test-project-gjxw-n4rgr-clamav-scan", "pipelineTaskName": "clamav-scan", "whenExpressions": [{"input": "false", "operator": "in", "values": ["false"]}]}, {"apiVersion": "tekton.dev/v1", "kind": "TaskRun", "name": "hacbs-test-project-gjxw-n4rgr-sbom-json-check", "pipelineTaskName": "sbom-json-check", "whenExpressions": [{"input": "false", "operator": "in", "values": ["false"]}]}, {"apiVersion": "tekton.dev/v1", "kind": "TaskRun", "name": "hacbs-test-project-gjxw-n4rgr-show-sbom", "pipelineTaskName": "show-sbom"}, {"apiVersion": "tekton.dev/v1", "kind": "TaskRun", "name": "hacbs-test-project-gjxw-n4rgr-show-summary", "pipelineTaskName": "show-summary"}], "completionTime": "2023-12-27T15:12:49Z", "conditions": [{"lastTransitionTime": "2023-12-27T15:12:49Z", "message": "Tasks Completed: 10 (Failed: 0, Cancelled 0), Skipped: 2", "reason": "Completed", "status": "True", "type": "Succeeded"}], "pipelineSpec": {"finally": [{"name": "show-sbom", "params": [{"name": "IMAGE_URL", "value": "$(tasks.build-container.results.IMAGE_URL)"}], "taskRef": {"kind": "Task", "params": [{"name": "name", "value": "show-sbom"}, {"name": "bundle", "value": "quay.io/redhat-appstudio-tekton-catalog/task-show-sbom:0.1@sha256:202d3c3385120ea847d8f0a82bd8d9d5e873d67f981d6f8a51fb1706caaf6bef"}, {"name": "kind", "value": "task"}], "resolver": "bundles"}}, {"name": "show-summary", "params": [{"name": "pipelinerun-name", "value": "hacbs-test-project-gjxw-n4rgr"}, {"name": "git-url", "value": "$(tasks.clone-repository.results.url)?rev=$(tasks.clone-repository.results.commit)"}, {"name": "image-url", "value": "quay.io/kasem_org/integration1-kcao-tenant/integ-app-bgna/hacbs-test-project-gjxw:build-ff841-1703689192"}, {"name": "build-task-status", "value": "$(tasks.build-container.status)"}], "taskRef": {"kind": "Task", "params": [{"name": "name", "value": "summary"}, {"name": "bundle", "value": "quay.io/redhat-appstudio-tekton-catalog/task-summary:0.1@sha256:f65a69aaf71cbab382eff685eee522ad35068a4d91d233e76cef7d42ff15a686"}, {"name": "kind", "value": "task"}], "resolver": "bundles"}}], "params": [{"description": "Source Repository URL", "name": "git-url", "type": "string"}, {"default": "", "description": "Revision of the Source Repository", "name": "revision", "type": "string"}, {"description": "Fully Qualified Output Image", "name": "output-image", "type": "string"}, {"default": ".", "description": "Path to the source code of an application's component from where to build image.", "name": "path-context", "type": "string"}, {"default": "Dockerfile", "description": "Path to the Dockerfile inside the context specified by parameter path-context", "name": "dockerfile", "type": "string"}, {"default": "false", "description": "Force rebuild image", "name": "rebuild", "type": "string"}, {"default": "false", "description": "Skip checks against built image", "name": "skip-checks", "type": "string"}, {"default": "true", "description": "Skip optional checks, set false if you want to run optional checks", "name": "skip-optional", "type": "string"}, {"default": "false", "description": "Execute the build with network isolation", "name": "hermetic", "type": "string"}, {"default": "", "description": "Build dependencies to be prefetched by Cachi2", "name": "prefetch-input", "type": "string"}, {"default": "false", "description": "Java build", "name": "java", "type": "string"}, {"default": "", "description": "Image tag expiration time, time values could be something like 1h, 2d, 3w for hours, days, and weeks, respectively.", "name": "image-expires-after", "type": "string"}, {"default": "false", "description": "Build a source image.", "name": "build-source-image", "type": "string"}], "results": [{"description": "", "name": "IMAGE_URL", "value": "$(tasks.build-container.results.IMAGE_URL)"}, {"description": "", "name": "IMAGE_DIGEST", "value": "$(tasks.build-container.results.IMAGE_DIGEST)"}, {"description": "", "name": "CHAINS-GIT_URL", "value": "$(tasks.clone-repository.results.url)"}, {"description": "", "name": "CHAINS-GIT_COMMIT", "value": "$(tasks.clone-repository.results.commit)"}, {"description": "", "name": "JAVA_COMMUNITY_DEPENDENCIES", "value": "$(tasks.build-container.results.JAVA_COMMUNITY_DEPENDENCIES)"}], "tasks": [{"name": "init", "params": [{"name": "image-url", "value": "quay.io/kasem_org/integration1-kcao-tenant/integ-app-bgna/hacbs-test-project-gjxw:build-ff841-1703689192"}, {"name": "rebuild", "value": "false"}, {"name": "skip-checks", "value": "false"}, {"name": "skip-optional", "value": "true"}, {"name": "pipelinerun-name", "value": "hacbs-test-project-gjxw-n4rgr"}, {"name": "pipelinerun-uid", "value": "ecc3f88c-7cb4-4100-9656-4cff65bdfe86"}], "taskRef": {"kind": "Task", "params": [{"name": "name", "value": "init"}, {"name": "bundle", "value": "quay.io/redhat-appstudio-tekton-catalog/task-init:0.1@sha256:c35cc37d6f40fef0f2ed614b502b058e13fe7af29c0888bc4799fd625b6f3374"}, {"name": "kind", "value": "task"}], "resolver": "bundles"}}, {"name": "clone-repository", "params": [{"name": "url", "value": "https://github.com/redhat-appstudio-qe/hacbs-test-project"}, {"name": "revision", "value": "34da5a8f51fba6a8b7ec75a727d3c72ebb5e1274"}], "runAfter": ["init"], "taskRef": {"kind": "Task", "params": [{"name": "name", "value": "git-clone"}, {"name": "bundle", "value": "quay.io/redhat-appstudio-tekton-catalog/task-git-clone:0.1@sha256:b8fddc2d36313a5cde93aba2491205f4a84e6853af6c34ede681f8339b147478"}, {"name": "kind", "value": "task"}], "resolver": "bundles"}, "when": [{"input": "$(tasks.init.results.build)", "operator": "in", "values": ["true"]}], "workspaces": [{"name": "output", "workspace": "workspace"}, {"name": "basic-auth", "workspace": "git-auth"}]}, {"name": "prefetch-dependencies", "params": [{"name": "input", "value": ""}], "runAfter": ["clone-repository"], "taskRef": {"kind": "Task", "params": [{"name": "name", "value": "prefetch-dependencies"}, {"name": "bundle", "value": "quay.io/redhat-appstudio-tekton-catalog/task-prefetch-dependencies:0.1@sha256:9630dd7d50002fdffb4a406fb0c538703ef98bf2f4318249ac3a2c229938dbea"}, {"name": "kind", "value": "task"}], "resolver": "bundles"}, "when": [{"input": "false", "operator": "in", "values": ["true"]}], "workspaces": [{"name": "source", "workspace": "workspace"}]}, {"name": "build-container", "params": [{"name": "IMAGE", "value": "quay.io/kasem_org/integration1-kcao-tenant/integ-app-bgna/hacbs-test-project-gjxw:build-ff841-1703689192"}, {"name": "DOCKERFILE", "value": "Dockerfile"}, {"name": "CONTEXT", "value": "."}, {"name": "HERMETIC", "value": "false"}, {"name": "PREFETCH_INPUT", "value": ""}, {"name": "IMAGE_EXPIRES_AFTER", "value": ""}, {"name": "COMMIT_SHA", "value": "$(tasks.clone-repository.results.commit)"}], "runAfter": ["prefetch-dependencies"], "taskRef": {"kind": "Task", "params": [{"name": "name", "value": "buildah"}, {"name": "bundle", "value": "quay.io/redhat-appstudio-tekton-catalog/task-buildah:0.1@sha256:16c429b61abb6c6b3b4d96706f329dc88e2a4fb22b6b4fe804ce32e91b561fd7"}, {"name": "kind", "value": "task"}], "resolver": "bundles"}, "when": [{"input": "$(tasks.init.results.build)", "operator": "in", "values": ["true"]}], "workspaces": [{"name": "source", "workspace": "workspace"}]}, {"name": "build-source-image", "params": [{"name": "BINARY_IMAGE", "value": "quay.io/kasem_org/integration1-kcao-tenant/integ-app-bgna/hacbs-test-project-gjxw:build-ff841-1703689192"}, {"name": "BASE_IMAGES", "value": "$(tasks.build-container.results.BASE_IMAGES_DIGESTS)"}], "runAfter": ["build-container"], "taskRef": {"kind": "Task", "params": [{"name": "name", "value": "source-build"}, {"name": "bundle", "value": "quay.io/redhat-appstudio-tekton-catalog/task-source-build:0.1@sha256:f8c5dec871fb5347eb2fc61d44754bcc101897aecf953b374ab3e8315e1a9804"}, {"name": "kind", "value": "task"}], "resolver": "bundles"}, "when": [{"input": "$(tasks.init.results.build)", "operator": "in", "values": ["true"]}, {"input": "false", "operator": "in", "values": ["true"]}], "workspaces": [{"name": "workspace", "workspace": "workspace"}]}, {"name": "deprecated-base-image-check", "params": [{"name": "BASE_IMAGES_DIGESTS", "value": "$(tasks.build-container.results.BASE_IMAGES_DIGESTS)"}], "runAfter": ["build-container"], "taskRef": {"kind": "Task", "params": [{"name": "name", "value": "deprecated-image-check"}, {"name": "bundle", "value": "quay.io/redhat-appstudio-tekton-catalog/task-deprecated-image-check:0.3@sha256:d87f8c50a674f57527a0c4f3df6d9093941a2ae84739b55368b3c11702ce340c"}, {"name": "kind", "value": "task"}], "resolver": "bundles"}, "when": [{"input": "false", "operator": "in", "values": ["false"]}]}, {"name": "clair-scan", "params": [{"name": "image-digest", "value": "$(tasks.build-container.results.IMAGE_DIGEST)"}, {"name": "image-url", "value": "$(tasks.build-container.results.IMAGE_URL)"}], "runAfter": ["build-container"], "taskRef": {"kind": "Task", "params": [{"name": "name", "value": "clair-scan"}, {"name": "bundle", "value": "quay.io/redhat-appstudio-tekton-catalog/task-clair-scan:0.1@sha256:fbe1ab58531d856fba360060d3884a0606310a966e2d01ba9305da9eb01ab916"}, {"name": "kind", "value": "task"}], "resolver": "bundles"}, "when": [{"input": "false", "operator": "in", "values": ["false"]}]}, {"name": "sast-snyk-check", "runAfter": ["clone-repository"], "taskRef": {"kind": "Task", "params": [{"name": "name", "value": "sast-snyk-check"}, {"name": "bundle", "value": "quay.io/redhat-appstudio-tekton-catalog/task-sast-snyk-check:0.1@sha256:eee508768b14655275fbcc2f42f9da1ab553b872dcbe113b0896aa9bcf7e1adf"}, {"name": "kind", "value": "task"}], "resolver": "bundles"}, "when": [{"input": "false", "operator": "in", "values": ["false"]}], "workspaces": [{"name": "workspace", "workspace": "workspace"}]}, {"name": "clamav-scan", "params": [{"name": "image-digest", "value": "$(tasks.build-container.results.IMAGE_DIGEST)"}, {"name": "image-url", "value": "$(tasks.build-container.results.IMAGE_URL)"}], "runAfter": ["build-container"], "taskRef": {"kind": "Task", "params": [{"name": "name", "value": "clamav-scan"}, {"name": "bundle", "value": "quay.io/redhat-appstudio-tekton-catalog/task-clamav-scan:0.1@sha256:d72cb58db88289559676676c3db43906718028e07279f70ddb12ed8bdc8e2860"}, {"name": "kind", "value": "task"}], "resolver": "bundles"}, "when": [{"input": "false", "operator": "in", "values": ["false"]}]}, {"name": "sbom-json-check", "params": [{"name": "IMAGE_URL", "value": "$(tasks.build-container.results.IMAGE_URL)"}, {"name": "IMAGE_DIGEST", "value": "$(tasks.build-container.results.IMAGE_DIGEST)"}], "runAfter": ["build-container"], "taskRef": {"kind": "Task", "params": [{"name": "name", "value": "sbom-json-check"}, {"name": "bundle", "value": "quay.io/redhat-appstudio-tekton-catalog/task-sbom-json-check:0.1@sha256:717e6e33f02dbe1a28fb743f32699e002c944680c251a50b644f27becb9208e9"}, {"name": "kind", "value": "task"}], "resolver": "bundles"}, "when": [{"input": "false", "operator": "in", "values": ["false"]}]}], "workspaces": [{"name": "workspace"}, {"name": "git-auth", "optional": true}]}, "provenance": {"featureFlags": {"AwaitSidecarReadiness": true, "Coschedule": "workspaces", "DisableAffinityAssistant": true, "DisableCredsInit": false, "EnableAPIFields": "beta", "EnableCELInWhenExpression": false, "EnableKeepPodOnCancel": false, "EnableProvenanceInStatus": true, "EnableStepActions": false, "EnableTektonOCIBundles": true, "EnforceNonfalsifiability": "none", "MaxResultSize": 4096, "RequireGitSSHSecretKnownHosts": false, "ResultExtractionMethod": "termination-message", "RunningInEnvWithInjectedSidecars": true, "ScopeWhenExpressionsToTask": false, "SendCloudEventsForRuns": false, "SetSecurityContext": false, "VerificationNoMatchPolicy": "ignore"}, "refSource": {"digest": {"sha256": "c9bf6beef61242e19d32913fb11d402225e8845fe876537e53e237bf43d115b7"}, "entryPoint": "docker-build", "uri": "quay.io/redhat-appstudio-tekton-catalog/pipeline-docker-build"}}, "results": [{"name": "IMAGE_URL", "value": "quay.io/kasem_org/integration1-kcao-tenant/integ-app-bgna/hacbs-test-project-gjxw:build-ff841-1703689192"}, {"name": "IMAGE_DIGEST", "value": "sha256:7097db0d70ddab0d990264cd32d2eada9d473a43e1f26bd73b0474d1553f3b9e"}, {"name": "CHAINS-GIT_URL", "value": "https://github.com/redhat-appstudio-qe/hacbs-test-project"}, {"name": "CHAINS-GIT_COMMIT", "value": "34da5a8f51fba6a8b7ec75a727d3c72ebb5e1274"}, {"name": "JAVA_COMMUNITY_DEPENDENCIES", "value": ""}], "skippedTasks": [{"name": "prefetch-dependencies", "reason": "When Expressions evaluated to false", "whenExpressions": [{"input": "false", "operator": "in", "values": ["true"]}]}, {"name": "build-source-image", "reason": "When Expressions evaluated to false", "whenExpressions": [{"input": "true", "operator": "in", "values": ["true"]}, {"input": "false", "operator": "in", "values": ["true"]}]}], "startTime": "2023-12-27T14:59:52Z"}}
